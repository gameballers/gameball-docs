---
title: "Integrate Redemption"
description: "Enable customers to redeem their earned points"
---

# Integrate Redemption (Wallet / Points Redemption)

Enable customers to redeem their earned points for rewards, discounts, or other benefits within your app.

## Redemption Flow

<Steps>
<Step title="Check Customer Balance">
Query the customer's points balance to determine if they have enough points to redeem.
</Step>

<Step title="Initiate Redemption">
User requests redemption in-app through your UI.
</Step>

<Step title="Backend Validation">
Your backend validates the redemption request and calls Gameball Server API to create the redemption transaction.
</Step>

<Step title="Update UI">
Backend returns success/failure to app and the app updates the UI accordingly.
</Step>
</Steps>

## Get Customer Balance

```kotlin
GameballApp.getInstance(context).getCustomerBalance(
    "customer-123",
    object : Callback<CustomerBalance> {
        override fun onSuccess(balance: CustomerBalance) {
            val availablePoints = balance.availablePoints
            val pendingPoints = balance.pendingPoints
            // Display balance to user
        }
        
        override fun onError(error: Throwable) {
            // Handle error
        }
    }
)
```

## Redemption Implementation

Provide endpoints in your backend to handle redemption verification and apply transactions through Gameball transactions APIs.

### Backend Integration

Your backend should:

1. Verify the customer has sufficient points
2. Call [Redeem API](/api-reference/transactions/cashback-and-redemptions/redeem) to create redemption transaction
3. Return the result to your app
4. Update order/cart with the discount if applicable

### App Implementation

```kotlin
// Example: User clicks redeem button
fun redeemPoints(pointsToRedeem: Int) {
    // Call your backend endpoint
    yourBackendAPI.createRedemption(
        customerId = "customer-123",
        points = pointsToRedeem
    ).enqueue(object : Callback<RedemptionResponse> {
        override fun onSuccess(response: RedemptionResponse) {
            if (response.success) {
                // Show success message
                // Update UI with new balance
                // Apply discount to cart/order
            } else {
                // Show error message
            }
        }
        
        override fun onError(error: Throwable) {
            // Handle error
        }
    })
}
```

## E-Commerce Redemption

For e-commerce businesses, points redemption is typically done during checkout using the [Order API](/api-reference/order/order).

```kotlin
val order = OrderRequest.builder()
    .orderId("order-123")
    .customerId("customer-123")
    .amount(149.99)
    .currency("USD")
    .redeemedPoints(500)  // Points to redeem
    .discountAmount(50.0)  // Discount value from redeemed points
    .build()
```

<Warning>
Always validate redemptions on your backend to prevent fraud and ensure accurate point deductions.
</Warning>

<Info>
For non-e-commerce scenarios, use the [Redeem API](/api-reference/transactions/cashback-and-redemptions/redeem) to create redemption transactions.
</Info>

## Related Resources

- [Redemption Integration Tutorial](/tutorials/redemption/index)
- [Customer Points Balance API](/api-reference/customers/progress/get-customer-balance)
- [Redeem API](/api-reference/transactions/cashback-and-redemptions/redeem)
- [Order API](/api-reference/order/order)

## Next Steps

- [Push Notifications](/installation-guide/android-v3/push-notifications)
- [Track Referrals](/installation-guide/android-v3/track-referrals)

