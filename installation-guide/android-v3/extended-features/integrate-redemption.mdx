---
title: "Integrate Redemption"
description: "Enable customers to redeem their earned points"
---

# Redeem Points

Enable customers to redeem their earned points for discounts or rewards inside your Android application. Redemption always follows a backend-validated flow to ensure accuracy, prevent fraud, and guarantee correct point deductions.

<Info>
  For a full end-to-end explanation of redemption logic, validation, flows, and backend responsibilities, see the  [**Redemption Integration Tutorial**](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index).
</Info>

---

## How Redemption Works

<Steps>
  <Step title="Check Customer Balance">
    Fetch the customer’s available and pending points to determine whether redemption is allowed.
  </Step>
  <Step title="Customer Initiates Redemption">
    The customer taps a "Redeem" action in your app (checkout, cart, wallet screen, etc.).
  </Step>
  <Step title="Backend Performs Validation">
    Your backend validates eligibility and calls the **Gameball Redeem API** to create a redemption transaction.
  </Step>
  <Step title="Apply Discount & Update UI">
    Your backend returns the final result (approved or rejected), then the app updates the UI accordingly.
  </Step>
</Steps>

### 1. Get Customer Points Balance

Use the Android SDK to retrieve the customer’s balance before initiating any redemption.

```kotlin
GameballApp.getInstance(context).getCustomerBalance(
    "customer-123",
    object : Callback<CustomerBalance> {
        override fun onSuccess(balance: CustomerBalance) {
            val availablePoints = balance.availablePoints
            val pendingPoints = balance.pendingPoints
            // Display balance to the user
        }

        override fun onError(error: Throwable) {
            // Handle error
        }
    }
)
```

### 2. Backend-Validated Redemption (Required)

All redemption actions must be performed through your backend.

Your backend must:

1. Verify the customer has sufficient available points
2. Call the [Redeem API](https://gameball.mintlify.app/api-reference/transactions/cashback-and-redemptions/redeem)
3. Apply the resulting discount or credit to the order, if applicable
4. Return the success/failure response to the Android app

<Warning>
  Redemption must never be performed directly from the client. Always validate and execute via your backend to prevent fraud.
</Warning>

---

### 3. Trigger Redemption from Your Android App

```kotlin
fun redeemPoints(pointsToRedeem: Int) {
    yourBackendAPI.createRedemption(
        customerId = "customer-123",
        points = pointsToRedeem
    ).enqueue(object : Callback<RedemptionResponse> {

        override fun onSuccess(response: RedemptionResponse) {
            if (response.success) {
                // Show success message
                // Update wallet balance
                // Apply discount to order/cart
            } else {
                // Show backend error message to the user
            }
        }

        override fun onError(error: Throwable) {
            // Handle network or server error
        }
    })
}
```

---

### 4. E-Commerce Checkout Redemption

For checkout scenarios, redemption is typically embedded inside the **Order API** payload.

This lets you apply both:

- The redeemed points
- The resulting discount value

#### Example:

```kotlin
val order = OrderRequest.builder()
    .orderId("order-123")
    .customerId("customer-123")
    .amount(149.99)
    .currency("USD")
    .redeemedPoints(500)      // Points to redeem
    .discountAmount(50.0)     // Discount value based on points
    .build()
```

<Info>
  This method is ideal for e-commerce flows where redemption happens at checkout.\
  Your backend should pass the calculated redeemed points and discount amount into this request.
</Info>

---

## Summary of When to Use What

<CardGroup cols={2}>
  <Card title="Wallet Redemption (Standalone)" icon="wallet" horizontal>
    Use when the user redeems points outside checkout

    \
    → You must call the **Redeem API** from your backend.
  </Card>
  <Card title="Checkout Redemption (Order API)" icon="cart-shopping" horizontal>
    Use when redemption is applied directly to an order during checkout\
    \
    → Pass `redeemedPoints` + `discountAmount` inside **OrderRequest**.
  </Card>
</CardGroup>

---

## **Related Resources**

- [Full Redemption Tutorial](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index)
- [Customer Points Balance API](https://gameball.mintlify.app/api-reference/customers/progress/get-customer-balance)
- [Redeem API](https://gameball.mintlify.app/api-reference/customers/progress/get-customer-balance)
- [Order API](https://gameball.mintlify.app/api-reference/order/order-tracking)

---

