---
title: "Initialize Customer Profile"
description: "Register and identify customers in your Android app"
---

# Initialize Customer (Register/Identify)

Register a customer whenever they log in or register in your app. This allows Gameball to attach events and rewards to the customer profile.

<CodeGroup>
```kotlin Kotlin
val customerRequest = InitializeCustomerRequest.builder()
    .customerId("customer-123")
    .email("customer@example.com")
    .mobileNumber("+1234567890")
    .deviceToken("fcm-device-token")
    .pushProvider(PushProvider.Firebase)
    .build()

GameballApp.getInstance(context).initializeCustomer(
    customerRequest,
    object : Callback<InitializeCustomerResponse> {
        override fun onSuccess(response: InitializeCustomerResponse) {
            // Customer initialized successfully
        }

        override fun onError(error: Throwable) {
            // Handle error
        }
    }
)

// With session token override
GameballApp.getInstance(context).initializeCustomer(
    customerRequest,
    callback,
    sessionToken = "custom-token"
)
```

```java Java
InitializeCustomerRequest customerRequest = InitializeCustomerRequest.builder()
    .customerId("customer-123")
    .email("customer@example.com")
    .mobile("+1234567890")
    .deviceToken("fcm-device-token")
    .pushProvider(PushProvider.Firebase)
    .build();

GameballApp.getInstance(context).initializeCustomer(
    customerRequest,
    new Callback<InitializeCustomerResponse>() {
        @Override
        public void onSuccess(InitializeCustomerResponse response) {
            // Customer initialized successfully
        }

        @Override
        public void onError(Throwable error) {
            // Handle error
        }
    }
);
```
</CodeGroup>

## Request Parameters

<ParamField body="customerId" type="string" required>
Unique identifier for the customer. This should never change for a given customer.
</ParamField>

<ParamField body="email" type="string">
Customer's email address.
</ParamField>

<ParamField body="mobile" type="string">
Customer's mobile number with country code.
</ParamField>

<ParamField body="deviceToken" type="string">
Push notification token (required if pushProvider is set).
</ParamField>

<ParamField body="pushProvider" type="PushProvider">
Push notification provider: `PushProvider.Firebase` or `PushProvider.Huawei` (required if deviceToken is set).
</ParamField>

<ParamField body="customerAttributes" type="CustomerAttributes">
Additional customer attributes (name, DOB, custom fields, etc.).
</ParamField>

<ParamField body="referralCode" type="string">
Referral code if customer was referred by another customer.
</ParamField>

<ParamField body="isGuest" type="boolean">
Guest user flag (defaults to false).
</ParamField>

<ParamField body="osType" type="string">
Operating system type (automatically set to "Android").
</ParamField>

<ParamField body="sessionToken" type="string">
Optional session token to override the global token for this specific request.
</ParamField>

### Validation Rules

**InitializeCustomerRequest requires:**
- Customer ID cannot be empty
- If push provider is set, device token is required
- If device token is set, push provider is required

## Customer Attributes

You can enrich customer profiles with additional attributes using the `CustomerAttributes` builder:

<CodeGroup>
```kotlin Kotlin
val attributes = CustomerAttributes.builder()
    .displayName("John Doe")
    .firstName("John")
    .lastName("Doe")
    .email("john@example.com")
    .mobileNumber("+1234567890")
    .gender("male")
    .dateOfBirth("1990-01-15")
    .joinDate("2024-01-01")
    .preferredLanguage("en")
    .channel("mobile")
    .addCustomAttribute("vip_level", "gold")
    .addCustomAttribute("city", "New York")
    .addAdditionalAttribute("segment", "premium")
    .build()

val customerRequest = InitializeCustomerRequest.builder()
    .customerId("customer-123")
    .email("john@example.com")
    .mobile("+1234567890")
    .customerAttributes(attributes)
    .referralCode("REF123")  // Optional
    .isGuest(false)          // Optional
    .build()
```

```java Java
CustomerAttributes attributes = CustomerAttributes.builder()
    .displayName("John Doe")
    .firstName("John")
    .lastName("Doe")
    .email("john@example.com")
    .mobileNumber("+1234567890")
    .gender("male")
    .dateOfBirth("1990-01-15")
    .joinDate("2024-01-01")
    .preferredLanguage("en")
    .channel("mobile")
    .addCustomAttribute("vip_level", "gold")
    .addCustomAttribute("city", "New York")
    .addAdditionalAttribute("segment", "premium")
    .build();

InitializeCustomerRequest customerRequest = InitializeCustomerRequest.builder()
    .customerId("customer-123")
    .email("john@example.com")
    .mobile("+1234567890")
    .customerAttributes(attributes)
    .referralCode("REF123")  // Optional
    .isGuest(false)          // Optional
    .build();
```
</CodeGroup>

## CustomerAttributes Builder

<Expandable title="CustomerAttributes Builder Methods">
  <ParamField body="displayName(String)" type="method">
  Sets the customer's display name.
  </ParamField>
  
  <ParamField body="firstName(String)" type="method">
  Sets the customer's first name.
  </ParamField>
  
  <ParamField body="lastName(String)" type="method">
  Sets the customer's last name.
  </ParamField>
  
  <ParamField body="email(String)" type="method">
  Sets the customer's email address.
  </ParamField>
  
  <ParamField body="mobileNumber(String)" type="method">
  Sets the customer's mobile number.
  </ParamField>
  
  <ParamField body="gender(String)" type="method">
  Sets the customer's gender.
  </ParamField>
  
  <ParamField body="dateOfBirth(String)" type="method">
  Sets date of birth in `YYYY-MM-DD` format.
  </ParamField>
  
  <ParamField body="joinDate(String)" type="method">
  Sets the join date in `YYYY-MM-DD` format.
  </ParamField>
  
  <ParamField body="preferredLanguage(String)" type="method">
  Sets the preferred language code.
  </ParamField>
  
  <ParamField body="channel(String)" type="method">
  Sets the channel identifier (defaults to "mobile").
  </ParamField>
  
  <ParamField body="addCustomAttribute(String, String)" type="method">
  Adds a custom attribute key-value pair.
  </ParamField>
  
  <ParamField body="customAttributes(Map)" type="method">
  Sets all custom attributes at once.
  </ParamField>
  
  <ParamField body="addAdditionalAttribute(String, String)" type="method">
  Adds an additional attribute key-value pair.
  </ParamField>
  
  <ParamField body="additionalAttributes(Map)" type="method">
  Sets all additional attributes at once.
  </ParamField>
</Expandable>

<Warning>
**Choose an Unchangeable Customer ID**

The `customerId` should be a permanent identifier that will NEVER change. Avoid using email or phone number as the customer ID since these can be updated by users.
</Warning>

<Tip>
Call `initializeCustomer` after successful login or registration in your app to ensure the customer profile is up-to-date.
</Tip>

## Next Steps

- [Track Customer Events](/installation-guide/android-v3/track-events)
- [Show Profile Widget](/installation-guide/android-v3/show-profile)

