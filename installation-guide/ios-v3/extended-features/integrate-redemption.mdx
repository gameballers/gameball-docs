---
title: "Integrate Redemption"
description: "Enable customers to redeem their earned points through Gameball"
---

# Implement Points Redemption in Your App

Redemption allows customers to convert loyalty points into discounts, wallet credit, or order-based savings.\
While the **iOS SDK handles balance display**, the **backend handles all redemption logic** for security.

This page summarizes the SDK responsibilities and includes core logic extracted from the full Redemption Integration Tutorial.

For the end-to-end journey, flows, and business logic, refer to:\
üëâ [**Points Redemption Tutorial**](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index)

---

## Redemption Architecture (Short Summary)

Gameball supports **two primary redemption paths**:

<CardGroup cols={2}>
  <Card title="1. Direct Points Redemption" icon="coins">
    Customer redeems points directly (e.g., wallet value or fixed value rewards).\
    Your backend calls the **Redeem API** and updates the customer‚Äôs balance.
  </Card>
  <Card title="2. Checkout Redemption" icon="shopping-cart">
    Customer applies points during checkout.\
    Your backend calls the **Order API** (with redeemed points + discount values).
  </Card>
</CardGroup>

<Info>
  Both paths are fully documented with diagrams in the\
  [**Redemption Integration Tutorial**](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index).
</Info>

---

## SDK Role vs Backend Role

<CardGroup cols={2}>
  <Card title="SDK Handles" icon="mobile">
    - Fetching customer balance
    - Showing points in UI
    - Updating UI after redemption
    - Sending orders (Track Order API wrapper)
  </Card>
  <Card title="Backend Handles" icon="shield-check">
    - Validating redemption
    - Fraud prevention
    - Calculating discount
    - Calling Redeem API
    - Applying discount to the cart/order
    - Returning final result to the app
  </Card>
</CardGroup>

<Warning>
  **Never create redemptions directly from the iOS app.**\
  Always call the Redeem API from your backend.
</Warning>

---

## Step 1: Fetch Customer Balance (via SDK)

Use the SDK to show the balance before redemption.

<CodeGroup>

```swift Swift
import Gameball

Gameball.shared.getCustomerBalance(for: "customer-123") { result in
    switch result {
    case .success(let balance):
        print("Available: \(balance.availablePoints)")
        print("Pending: \(balance.pendingPoints)")
    case .failure(let error):
        print(error.localizedDescription)
    }
}
```


```swift Swift (Async/Await)
Task {
    do {
        let balance = try await Gameball.shared.getCustomerBalance(for: "customer-123")
        print(balance.availablePoints)
    } catch {
        print(error.localizedDescription)
    }
}
```

</CodeGroup>

---

## **Step 2: User Chooses a Redemption Amount**

This is purely UI-level.

Examples:

- ‚ÄúRedeem 500 points‚Äù
- ‚ÄúApply maximum available points‚Äù
- ‚ÄúRedeem enough points to reach 50% discount‚Äù

Your UI collects the desired amount and sends it to your backend.

---

## **Step 3: Backend Creates the Redemption Transaction**

Your backend must:

<Steps>
  <Step title="Validate the selected points">
    Ensure the requested redemption amount is allowed and the customer has enough points.
  </Step>
  <Step title="Call the Redeem API">
    Use `/transactions/cashback-and-redemptions/redeem` to deduct points and create a redemption transaction.
  </Step>
  <Step title="Return discount info to the app">
    Your backend returns:

    - success/failure
    - discount amount
    - updated balance
    - any validation errors
  </Step>
</Steps>

Tutorial reference:

üëâ **Direct **[**Redemption Flow**](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index)** ‚Üí** 

---

## Step 4: App Updates UI Based on Backend Response

Example app implementation:

```swift
func redeemPoints(_ pointsToRedeem: Int) {
    yourBackendAPI.createRedemption(
        customerId: "customer-123",
        points: pointsToRedeem
    ) { result in
        switch result {
        case .success(let response):
            if response.success {
                self.showSuccessMessage()
                self.updateBalance()
            } else {
                self.showError(response.message)
            }
        case .failure(let error):
            self.showError(error.localizedDescription)
        }
    }
}
```

---

## **Checkout-Based Redemption (Order API)**

For e-commerce checkout flows (cart, items, subtotals), use **Order API** through the SDK‚Äôs `sendOrder`() method.

```swift
let order = OrderRequest(
    orderId: "order-123",
    customerId: "customer-123",
    amount: 149.99,
    currency: "USD",
    status: "paid",
    redeemedPoints: 500,
    discountAmount: 50.0
)

Gameball.shared.sendOrder(order) { result in
    // Handle result
}
```

Tutorial reference:

üëâ **Checkout **[**Redemption Flow **](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index)**‚Üí**

---

## **Redemption Scenarios (Summary)**

<CardGroup cols={2}>
  <Card title="Fixed Points Redemption" icon="ticket">
    Customer redeems a fixed amount of points for a fixed-value reward.\
    Backend calls Redeem API ‚Üí updates wallet.
  </Card>
  <Card title="Percentage / Flexible Redemption" icon="percent">
    The customer chooses how many points to apply.\
    Backend calculates the discount and calls the Redeem API.
  </Card>
  <Card title="Checkout Discount Redemption" icon="shopping-cart">
    Points reduce the order total.\
    Backend calls Order API.
  </Card>
  <Card title="Full Wallet Use" icon="wallet">
    The customer uses all available points.\
    Backend performs full validation.
  </Card>
</CardGroup>

For visual diagrams & deeper flows:

üëâ **Full **[**Points Redemption Tutorial**](https://gameball.mintlify.app/tutorials-new/experiences/points-redemption/index)

