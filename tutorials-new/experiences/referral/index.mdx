---
title: "Referrals"
---

## **What Is a Referral Program?**

Imagine this:

Sarah loves your brand. She refers her friend Mike by sharing a link or code. Mike signs up and places an order. Both Sarah and Mike get rewards, and your business gains a new loyal customer.

Referral programs help you:

- Reward existing customers for bringing in new ones
- Encourage new customers with an immediate incentive
- Generate scalable, low-cost growth through trust

## **How Referral Programs Work in Gameball**

| **Role**            | **Trigger Event**                | **Reward Type**      |
| :------------------ | :------------------------------- | :------------------- |
| Referrer (Existing) | Friend completes a defined event | Points or Coupons    |
| Referred Friend     | Joins and completes the event    | Bonus Coupon or Gift |

**The entire setup is configurable:**

<Check>
  Event Types
</Check>

<Check>
  Reward Amounts
</Check>

<Check>
  Referral Logic
</Check>

<Check>
  Gameball Automates Linking
</Check>

<Check>
  Reward Issuance
</Check>

<Check>
  Tracking
</Check>

## **Standard Referral Flow Implementation**

### **What This Is**

This is the **core referral flow** that underpins all referral use cases across web, mobile apps, and offline channels. When implemented correctly, this flow ensures that referral codes are registered, tracked, and rewarded automatically based on your configuration.

### **Why It Matters**

It forms the baseline logic that powers all other referral implementations, including deep links, QR codes.

### **Example Flow**

<Steps>
  <Step title="Customer shares his referral link" icon="share-nodes" iconType="regular" titleSize="p">
    
  </Step>
  <Step title="Friend signs up using the link" icon="link" iconType="regular" titleSize="p">
    
  </Step>
  <Step title="Friend places his first order" icon="cart-shopping-fast" iconType="regular" titleSize="p">
    
  </Step>
  <Step title="The friend receives a 10% coupon. The customer receives 200 points" icon="gift" iconType="regular" titleSize="p">
    
  </Step>
</Steps>

### **How to Implement It**

1. Extract `referrerCode` from the link or referral data
2. Send it to Gameball during customer registration
3. Gameball tracks the referral and issues rewards after the triggering event

## Platform-Specific Integration

| **Platform**      | **How the Referral Code is Collected** | **Where to Send It**                       | **Tools or Notes**                    |
| :---------------- | :------------------------------------- | :----------------------------------------- | :------------------------------------ |
| Web (Widget)      | Auto-detected from URL                 | No action required                         | Gameball widget handles logic         |
| Web (Custom UI)   | Extract from ?ref=CODE                 | referrerCode in API                        | Use Create/Update Customer API        |
| Mobile App (SDK)  | Deep link parameter (Branch or Adjust) | referrerCode in registerCustomer Method    | Firebase is no longer supported       |
| POS / Call Center | Manual entry                           | referrerCode in create/update customer API | Supports offline, in-person referrals |

### **I. Web Using Gameball Widget**

- Gameball automatically detects and submits the referral code from the URL
- No additional implementation required

### **II. Web with Custom UI**

Extract the referral code and submit it using the [Create/Update Customer API](https://gameball.mintlify.app/api-reference/customers/management/create-customer):

```
{
  "customerId": "mike_123",
  "referrerCode": "SARAH123",
  "customerAttributes": {
    "email": "mike@example.com"
  }
}
```

### **Important Notes:**

- `referrerCode` **must** be included during **initial registration.**

  <Note>
    If the referral code is not submitted within five minutes of registration, the referral will not be counted.

    To modify this time threshold or customize the referral linking logic, please get in touch with your Gameball technical point of contact.
  </Note>
- If referrerCode is omitted during the first request, **it cannot be added later**.
- If the code is invalid, Gameball ignores it silently; the customer is still created, but no referral link is formed.
- This API is used across all channels: web, app, or POS.

### III. Mobile Apps (Branch or Adjust)

Referral links in mobile apps are handled through **Gameball’s Mobile SDKs** in combination with a **deep linking provider** such as [**Branch**](https://gameball.mintlify.app/tutorials/branch-io-integration) or [**Adjust**](https://gameball.mintlify.app/tutorials/adjust-integration).

**Firebase Dynamic Links** are no longer supported.

Branch and Adjust now handle both link redirection and referral code extraction.

<Steps>
  <Step title="Configure Deep Linking">
    - Integrate **Branch** or **Adjust** in your app and connect it from the Gameball dashboard under **Settings** → **Admin Settings** → **Integration** → **Mobile** **Configuration** → **Dynamic Link Provider**.
    - Each provider automatically attaches the referral code to the deep link (e.g., ?referrerCode=SARAH123).
  </Step>
  <Step title="Extract the Referral Code">
    After the app opens from a referral link, use your deep linking provider’s SDK to extract the code.

    **Example using Branch:**

    ```javascript
    branch.subscribe(({ data }) => {
      const referrerCode = data.referrerCode;
      if (referrerCode) {
        // Proceed with registration through the Gameball SDK
      }
    });
    ```
  </Step>
  <Step title="Register the Customer (Gameball SDK)">
    Once the code is extracted, call the **registerCustomer** (or **registerPlayer**, depending on the SDK version) method from the Gameball SDK and pass the referrerCode as a parameter.

    **Example:**

    ```
    Gameball.registerCustomer({
      customerId: "mike_mobile_789",
      referrerCode: "SARAH123",
      customerAttributes: {
        displayName: "Mike",
        platform: "android",
        email: "mike@mobile.com"
      }
    });
    ```
  </Step>
</Steps>

#### Alternative Flow (Manual Entry)

If the customer was not referred via a deep link, you can still allow referrals manually by:

- Adding a **"Referral Code (Optional)" field** on your registration/sign-up screen.
- When the user submits the form, collect the entered referral code (if provided).
- Then:
  - If you're registering the customer **via the frontend SDK**, include `referrerCode` in the `registerCustomer` call as shown above.
  - If you're registering the customer **via the backend API**, include `referrerCode` in the payload for the **Create/Update Customer API**:

    ```json
    {
      "customerId": "mike_mobile_789",
      "referrerCode": "SARAH123",
      "customerAttributes": {
        "displayName": "Mike",
        "email": "mike@mobile.com",
        "platform": "android"
      }
    }
    ```

<Tip>
  This hybrid approach ensures that referral tracking works whether the user comes via a link or enters a code manually.
</Tip>

<Note>
  - The referral link must be passed **within the first registration call**.
  - If the referral code is missing or invalid, the customer will still be registered, but the referral relationship will not be created.
  - Referral linking must occur **within five minutes** of registration to be counted.
  - To customize this time window or referral linking logic, please contact your **Gameball technical point of contact**.
</Note>

#### **Summary**

| **Step** | **Action**                 | **Tool / Method**               |
| :------- | :------------------------- | :------------------------------ |
| 1        | Configure Branch or Adjust | Gameball Dashboard              |
| 2        | Extract referrerCode       | branch.subscribe() / Adjust SDK |
| 3        | Register customer          | Gameball.registerCustomer()     |
| 4        | Referral linked            | Gameball backend logic          |

---

## Monitoring Referral Progress

Allow customers to view who they referred and what the status is.

**API Reference:** [**Customer Referrals**](https://gameball.mintlify.app/api-reference/customers/progress/get-customer-referrals)

```json
{
  "referredFriends": [
    {
      "customerId": "cust_123",
      "displayName": "John Doe",
      "email": "john@example.com",
      "mobileNumber": "+1234567890",
      "joinDate": "2025-01-10T12:00:00Z",
      "status": "Active"
    }
  ],
  "count": 123,
  "hasMore": true
}
```

<AccordionGroup>
  <Accordion title="Suggested UI Components" defaultOpen icon="sparkles">
    - Referral Welcome Popup: Show new users the reward received via referral.
    - Referral Dashboard: Show Existing users who they've referred (pending/active)
  </Accordion>
</AccordionGroup>

## Developer Checklist

| Step                                           | Must-Do                            |
| :--------------------------------------------- | :--------------------------------- |
| Extract referral code                          | From URL param, QR, SDK, or manual |
| Pass referrerCode on registration              | Via `registerCustomer` API         |
| Trigger referral event                         | e.g. `place_order`, `signup`       |
| Display referral progress                      | Use Referral History API           |
| Validate referral codes                        | (Optional) via internal service    |
| Integrate Branch/Adjust (for mobile apps only) | Via deep linking SDKs              |
| Don’t allow referral code editing post-signup  | Enforce immutability in UI/backend |

